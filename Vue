
<div id="Vue_example" class="containerR">
    <!-- <div class="container"> -->
    <div id="EXAMPLE" class="container MobilePadding5">
        <div class="col-xs-12 panelStyleA" id="example_Panel" v-show="!returnControl">
            <div class="col-xs-12" style="text-align:center;">
                <h3 style="margin:15px">
                    <strong class="ubotlan">Title</strong>
                </h3>
            </div>
            <div class="col-sm-8 col-sm-offset-2 col-xs-12 input-group">
                <div class="col-xs-12 margin5px0px">
                    <span class="col-sm-4 col-xs-12 questionStyleA ubotlan">select</span>
                    <select class="col-sm-8 col-xs-12 selectpicker" data-size="6" data-live-search="true" v-model="selectValue">
                        <option disabled value="">請選擇</option>
                        <option class="ubotlan" v-for="selectObject in selectList"
                            :value="selectObject.Content" :key="selectObject.Code">
                            {{ selectValue }}</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12" style="padding:5px;text-align:center;">
                <button type="button" class="btn btn-primary ubotlan_btn" @click="exampleBtnClick()">
                    <i class="fa fa-search"></i>　Btn
                </button>
            </div>
            <div class="col-xs-12" style="text-align:center;">
                <span style="color:red;font-size: 16px;" class="ubotlan">notice</span>
            </div>
        </div>

        <div class="col-xs-12 MobilePadding0" v-show="detailControl">
            <div class="col-xs-12 formStyleA">
                <div class="col-sm-6 col-xs-12 noPaddingLR">
                    <span class="col-sm-12 col-xs-4 ubotlan" style="color:blue;padding-bottom: 5px;">InfoA</span>
                    <span class="col-sm-12 col-xs-8" style="color:red">{{Info1}}</span>
                </div>
                <div class="col-sm-6 col-xs-12 noPaddingLR">
                    <span class="col-sm-12 col-xs-4 ubotlan" style="color:blue;padding-bottom: 5px;">InfoB</span>
                    <span class="col-sm-12 col-xs-8" style="color:red">{{Info2}}</span>
                </div>
            </div>
            <div>
                <table id="example_MainTable" class="table table-bordered" style="margin-bottom:20px;">
                    <thead>
                        <tr>
                            <th class='text-center ubotlan' data-field="No" data-sortable="true">序號</th>
                            <th class='text-center ubotlan' data-field="th01" data-sortable="true">Name1</th>
                            <th class='text-center ubotlan' data-field="th02" data-sortable="true">Name2</th>
                            <th class='text-center ubotlan' data-field="Operate">功能</th>
                        </tr>
                    </thead>
                    <tbody id="example_MainTable_tbody"></tbody>
                </table>
            </div>
        </div>
    </div>


    <div class="modal fade" id="example_ViewModal" tabindex="-1" role="dialog" style="z-index:1051;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header modal-header-success" style="text-align:center;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title ubotlan">Modal Totle</h4>
                </div>
                <div class="modal-body row modalBodyStyleA">
                    <div id="example_ViewModal_Content">
                        <div class="col-xs-12">
                            <div class="col-sm-6 col-xs-12">
                                <label class="col-sm-5 col-xs-6 ubotlan">label01：</label>
                                <input class="col-sm-7 col-xs-6" :value="example_ViewModal.input1" disabled>
                            </div>
                            <div class="col-sm-6 col-xs-12">
                                <label class="col-sm-5 col-xs-6 ubotlan">label02：</label>
                                <input class="col-sm-7 col-xs-6" :value="example_ViewModal.input2" disabled>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer modal-header-success" style="text-align:center;">
                    <button type="button" class="btn btn-danger ubotlan_btn" data-dismiss="modal">
                        <i class="fa fa-remove"></i>　關閉視窗
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script>

        var example = new Vue({
            el: "#Vue_example",
            data: {
                //頁面控制
                returnControl: true,
                detailControl: false,

                selectValue: "",
                selectList: [
                    {
                        Code: "Code01",
                        Content: "Content01"
                    },
                    {
                        Code: "Code02",
                        Content: "Content02"
                    }
                ],

                Info1: "1",
                Info2: "2",
                example_ViewModal: {
                    input1: "A",
                    input2: "B"
                }

            },
            methods: {
                example_Init: function () {
                    var self = this;
                    self.returnControl = true;
                    self.detailControl = false;

                    var SendData = {
                        "cid": CID,
                        "loginUID": LID0,
                        "token": TK
                    };

                    loading();
                    $.ajax({
                        url: UrlSearch("sc020101001"),
                        type: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        dataType: 'json',
                        data: JSON.stringify(SendData),
                        success: function (data) {
                            loadingEnd();
                            if (data.rc == "T21111") {
                                self.returnControl = false;
                                console.log("data",data.rc)

                                //vue的資料更新那麼及時，給個settime等一下
                                setTimeout(function () {
                                    $('.selectpicker').selectpicker('refresh');
                                }, 200);

                            } else {
                                RcAndMsg(data.rc, data.msg);
                            }
                        }, error: function (jqXHR, exception) {
                            AjaxErrorHandle(jqXHR, exception, "sc020101001");
                        }, complete: function (xhr) {
                            loadingEnd();
                            if (this.returnControl)
                                $('#homePanel').click();
                        }
                    });

                },
                exampleBtnClick: function () {           
                    var self = this;
                    self.detailControl = true;

                    var tableList = [
                        {
                            No : "1" ,
                            th01 : "11" ,
                            th02 : "12" ,
                            Operate : '<button type="button" class="btn btn-success" onclick="example.exampleBtnClick2()">OpenModal</button> ' 
                        },
                        {
                            No : "2" ,
                            th01 : "21" ,
                            th02 : "22" ,
                            Operate : '<button type="button" class="btn btn-success" onclick="example.exampleBtnClick2()">OpenModal</button> ' 
                        }
                    ]

                    $('#example_MainTable').bootstrapTable('load', tableList);

                },
                exampleBtnClick2: function () {
                    $('#example_ViewModal').modal("show");
                }
            },
            mounted() {
                var self = this;

                console.log("selectList",this.selectList)

                //將有用此套件的select初始化
                $('.selectpicker').selectpicker('refresh');

                $('#example_MainTable').bootstrapTable({
                    pagination: true, //使否要分頁
                    showColumns: true, //顯示/隱藏哪些欄位
                    search: true,//查詢
                    pageSize: 50, //一頁顯示幾筆
                    pageList: [10, 20, 50, 100], //一頁顯示幾筆的選項
                    formatRecordsPerPage: function (pageSize) {
                        return '&nbsp;&nbsp;每頁顯示　' + pageSize + '　筆';
                    },
                    formatShowingRows: function (fromIndex, toIndex, totalSize) {
                        var currentPage = Math.ceil(fromIndex / this.pageSize);//目前第幾頁
                        var totalPageCount = Math.ceil(totalSize / this.pageSize);//總共幾頁
                        return '第 ' + currentPage + ' 頁&nbsp;&nbsp;共 ' + totalPageCount + ' 頁';
                    }
                });

                this.example_Init();
                

            }
        });

    </script>

</div>
